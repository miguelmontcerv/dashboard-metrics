import React, { useEffect, useState, useRef } from 'react';
import './App.css';
import { Chart } from 'chart.js/auto';
import { dataSets } from './data'; // Importa tus datos
import logo from './assets/logo_sin_fondo.png';

function App() {
  const [parsedDataPlot, setParsedDataPlot] = useState([]);
  const [selectedPaises, setSelectedPaises] = useState(['Argentina']); // Cambiado para permitir múltiples selecciones
  const [selectedVariable, setSelectedVariable] = useState("PIB");
  const chartRef = useRef();
  const colorPais = {
    Argentina: 'rgba(159, 205, 255, 1)', // '#9fcdff'
    Alemania: 'rgba(235, 211, 0, 1)',   // '#ebd300'
    Japón: 'rgba(194, 0, 0, 1)',        // '#c20000'
    México: 'rgba(3, 147, 17, 1)'       // '#039311'
  };

  const [isVisibleDeu, setisVisibleDeu] = useState(false);
  const  toggleVisibilityDeu = () => {
    setisVisibleDeu(!isVisibleDeu);
  };

  const [isVisibleARG, setisVisibleARG] = useState(false);
  const  toggleVisibilityARG = () => {
    setisVisibleARG(!isVisibleARG);
  };

  const [isVisiblejpn, setisVisiblejpn] = useState(false);
  const  toggleVisibilityjpn = () => {
    setisVisiblejpn(!isVisiblejpn);
  };

  const [isVisiblemex, setisVisiblemex] = useState(false);
  const  toggleVisibilitymex = () => {
    setisVisiblemex(!isVisiblemex);
  };

  

  const programasMexico = ['Estímulo Fiscal A La Investigación Y Desarrollo De Tecnología (Inicio: 2017, En Curso)', 'National Repository (Inicio: 2016, En Curso)', 'Bilateral International Cooperation Program (Inicio: 2010, En Curso)', 'Binational Innovation Nodes (Inicio: Nan, En Curso)', 'Programa De Laboratorios Nacionales (Inicio: 2013, En Curso)', 'Apoyo A Madres Mexicanas Jefas De Familia Para Fortalecer Su Desarrollo Profesional (Inicio: 2011, En Curso)', 'Principles And Impact Analysis Guide For The Development And Use Of Systems Based On Artificial Intelligence In The Federal Public Administration (Inicio: 2018, En Curso)', 'National Council For Science And Technology (Inicio: 1970, En Curso)', 'National System Of Researchers (Inicio: 1984, En Curso)', 'Thematic Research Networks Programme (Inicio: 2012, En Curso)', 'National Consortium Of Scientific And Technological Information Resources (Inicio: 2009, En Curso)', "Mexico'S National Ai Strategy (Inicio: 2018, En Curso)", 'National Ecosystem Of Open Innovation (Inicio: 2019, En Curso)', 'International Co-Operation Fund For Science And Technology Between The European Union And Mexico (Inicio: 2007, Fin: 2020)', 'National Programme Of Quality Graduate Programmes (Inicio: 1991, Fin: 2021)', 'Researchers For Mexico (Inicio: 2013, En Curso)', 'National Energy Strategy (Inicio: 2013, En Curso)', 'Mexico’S Climate Change Mid-Century Strategy (Inicio: 2016, En Curso)', 'Special Climate Change Program (Inicio: 2020, En Curso)', 'General Law On Climate Change (Inicio: 2012, En Curso)', 'Mexican Energy Innovation Centres (Inicio: 2017, En Curso)', 'National Institute Of Ecology And Climate Change (Inicio: 2012, En Curso)', 'National Strategy To Reduce Short-Lived Climate Pollutants (Inicio: 2019, En Curso)', 'Institutional Program Of The National Council Of Science And Technology (Inicio: 2020, Fin: 2024)', 'National Development Plan (Inicio: 2019, Fin: 2024)', 'Science And Technology Act (Inicio: 2002, En Curso)', 'Grants For Postgraduate Studies And Quality Support (Inicio: 1971, En Curso)', 'Frontier Science (Inicio: 2019, En Curso)', 'Horizontal Knowledge Networks (Inicio: 2020, En Curso)', 'Support Programmes For Scientific, Technological And Innovation Activities (Inicio: 2009, En Curso)', 'Classification System For Mexican Journals Of Science And Technology (Inicio: 2014, En Curso)', 'Public Communication Of Science Programme (Inicio: 2017, En Curso)', 'National Health It Ecosystem (Inicio: 2020, En Curso)', 'Strengthening Scientific Infrastructure (Inicio: 2003, En Curso)', 'National Strategic Programme For Open Technology And Innovation (Inicio: 2019, En Curso)', 'Bandera Project (Inicio: 2019, En Curso)', 'National Strategic Programmes (Inicio: 2019, Fin: 2024)', 'Scholarships For Indigenous People (Inicio: 2012, En Curso)', 'Programme For The Incorporation Of Students With Disabilities Into National Postgraduate Courses (Inicio: 2013, En Curso)', 'Budgetary Program F003 (Inicio: 2021, En Curso)', 'Climate Change Strategic Plan For The Agri-Food Sector (Inicio: 2022, En Curso)', 'National Soil Strategy For Sustainable Agriculture (Inicio: 2022, Fin: 2030)', 'Special Programme For Science, Technology And Innovation (Inicio: 2021, Fin: 2024)', 'General Act On Humanities, Sciences, Technologies And Innovation (Inicio: 2023, En Curso)', 'National Postgraduate System (Inicio: 2021, En Curso)', 'Special Program For Climate Change (Inicio: 2021, Fin: 2024)'];
  const programasArgentina = ['Internationalisation Of Research And Innovation Activities (Inicio: 2007, En Curso)', 'Institutional Assessment Program (Inicio: 2006, En Curso)', 'Scientific And Technological Research Projects (Inicio: 1997, En Curso)', 'Competitive Research Funding System (Inicio: 2007, En Curso)', 'Latinamerican Centre For Interdisciplinary Training (Inicio: 2015, En Curso)', 'Research Tenure In Conicet (Inicio: 1973, En Curso)', 'Conicets Doctoral And Postdoctoral Scholarships Program (Inicio: 1973, En Curso)', 'National Committee On University Assessment And Accreditation (Inicio: 1997, En Curso)', 'Equipment Modernization Projects (Inicio: 2003, En Curso)', 'Program For The Appointment Of Researchers With Phd Degree In State Universities (Inicio: 2017, En Curso)', 'Programme Of Major Tools And Databases (Inicio: 2003, En Curso)', 'Program Of Open Data In Science And Technology (Inicio: 2017, En Curso)', 'Non-Competitive Funding Of The Argentine National System Of Science And Technology (Inicio: 1956, En Curso)', 'For Women In Science Award (Inicio: 2007, Fin: 2030)', 'Individual Appraisal System (Inicio: 1973, En Curso)', 'Accreditation Bank Of Technological And Social Development Projects (Inicio: 2014, En Curso)', 'Learn (Inicio: 2016, En Curso)', 'Interdisciplinary Centre Of Studies Of Innovation, Science And Technology - Information, Monitoring And Evaluation Unit (Inicio: 2015, En Curso)', 'Reform Of The Incentives Program For Researchers At Universities (Inicio: 2017, En Curso)', 'Maternity Extension Of Conicets Doctorate Fellowship Program (Inicio: 2013, En Curso)', 'Scientific And Technological Cabinet (Inicio: 2001, En Curso)', 'Promoting Research Integrity And Reproducibility (Inicio: 2001, En Curso)', 'Argentine Technological Fund (Inicio: 1994, En Curso)', 'Strategic Projects (Inicio: 2016, En Curso)', 'Argentinean Sectorial Fund (Inicio: 2009, En Curso)', 'Highly Qualified Human Resources (Inicio: 2007, En Curso)', 'Non-Refundable Contribution For Patenting (Inicio: 2007, En Curso)', 'Research Infrastructures (Inicio: 2008, En Curso)', 'Participation In Multilateral Initiatives (Inicio: 1984, En Curso)', 'Strategy And Tools To Enhance Participation In European Union Programmes (Inicio: 1999, En Curso)', 'Joint Implementation Of Innovation Calls For Proposals (Inicio: 2007, En Curso)', 'Alignment Towards Transnational Research Programmes (Inicio: 2017, En Curso)', 'Joint Infrastructures (Inicio: 2008, En Curso)', 'Capacity Building And Mobility Schemes And Programmes (Inicio: 2015, En Curso)', 'National Committee Of Ethics In Science And Technology (Inicio: 2001, En Curso)', 'Interagency Council On Science And Technology (Inicio: 2001, En Curso)', 'Federal Council For Science And Technology (Inicio: 2001, En Curso)', 'Advisory Commission For The National Science, Technology And Innovation Plan (Inicio: 2001, En Curso)', 'National Directorate Of Scientific Information Studies Of The Sti Ministry (Inicio: 2007, En Curso)', 'National Program For Technological Surveillance And Competitive Intelligence (Inicio: 2010, En Curso)', 'Development Of National Scientific And Technological Base (Inicio: 2013, En Curso)', 'Institutional Subsidies (Inicio: 2007, En Curso)', 'Evaluation And Quality Assurance Unit (Inicio: 2006, En Curso)', 'Argentine Sector Fund (Inicio: 2012, En Curso)', 'Fund For The Promotion Of The Software Industry (Inicio: 2007, En Curso)', 'Innovar Prize (Inicio: 2012, En Curso)', 'International Cooperation Projects (Inicio: 2010, En Curso)', 'Council Program Of The Demand Of Social Actors (Inicio: 2008, En Curso)', 'High Performance Computing National System (Inicio: 2010, En Curso)', 'Technological Development Centers (Inicio: 2015, En Curso)', 'Platform Of Demands And Technological Transfer (Inicio: 2014, En Curso)', 'Bilateral R+D Cooperation Agreements And Joint Research Centres (Inicio: 1985, En Curso)', 'Scientific Advice Program For Public Policies (Inicio: 2018, En Curso)', 'Promotion Of The Knowledge Economy (Inicio: 2020, En Curso)', 'National Plan For Science, Technology And Innovation 2030 (Inicio: 2020, Fin: 2030)', 'National Program For Gender Equality In Science, Technology And Innovation (Inicio: 2020, En Curso)']
  const programasJapon = ['Center For Research And Development Strategy (Inicio: 2003, En Curso)', 'Science For Re-Designing Science, Technology And Innovation Policy (Inicio: 2011, En Curso)', 'Mirai R&D Program (Inicio: 2017, En Curso)', 'National Guideline For Management And Utilization Of Research Data Produced By Public Funds (Inicio: 2021, En Curso)', 'Research Data Infrastructure For Open Science (Inicio: 2017, En Curso)', 'Advanced Research And Development Programs For Medical Innovation (Inicio: 2014, En Curso)', 'Strategic Basic Research Programs (Crest, Presto, Erato) (Inicio: 1981, En Curso)', 'Japan Science And Technology Information Aggregator, Electronic (Inicio: 1999, En Curso)', 'International Joint Research Program (Inicio: 2010, En Curso)', 'A3 Foresight Program (Inicio: 2005, En Curso)', 'Guidelines For Responding To Misconduct In Research (Inicio: 2015, En Curso)', 'Japan Open Innovation Council (Inicio: 2015, En Curso)', 'Program On Open Innovation Platform With Enterprises, Research Institute And Academia (Inicio: 2016, En Curso)', 'Program For Building Regional Innovation Ecosystems (Inicio: 2016, En Curso)', 'Accelerated Examination System For Universities Or Public Research Institutes (Inicio: 2000, En Curso)', 'Global Science Campus (Inicio: 2014, Fin: 2023)', 'Fostering Next Generation Scientists Program (Inicio: 2017, Fin: 2023)', 'International Fellowships For Research In Japan (Inicio: 1960, En Curso)', 'Overseas Challenge Program For Young Researchers (Inicio: 2017, En Curso)', 'High Performance Computing Infrastructure Project (Inicio: 2012, En Curso)', 'Advanced Integrated Intelligence Platform Project (Inicio: 2016, En Curso)', 'Japanese-German Graduate Externship (Inicio: 2007, En Curso)', 'Science Dialogue Program (Inicio: 2004, En Curso)', 'Social Principles Of Human-Centric AI (Inicio: 2019, En Curso)', 'AI R&D Guidelines (Inicio: 2017, En Curso)', 'AI Utilisation Guidelines (Inicio: 2019, En Curso)', 'The Conference Toward AI Network Society (Inicio: 2016, En Curso)', 'Interstellar Initiative (Inicio: 2018, En Curso)', 'Funding From The Japan Society For The Promotion Of Science (Inicio: 1932, En Curso)', 'Strategic Development Program For Young Researchers (Inicio: 2019, En Curso)', 'Integrated Innovation Strategy Promotion Council (Inicio: 2018, En Curso)', 'Enhancing An Innovation-Friendly Environment In National Universities (Inicio: 2019, Fin: 2023)', 'Moonshot Research And Development Program (Inicio: 2020, En Curso)', 'Beyond The Limits, Unlock Our Potential: Startup Strategy (Inicio: 2019, En Curso)', 'Cross-Ministerial Strategic Innovation Promotion Program (Inicio: 2018, En Curso)', 'Governance Innovation (Inicio: 2019, En Curso)', 'Integrated Innovation Strategy (Inicio: 2018, En Curso)', 'Council For Science, Technology And Innovation (Inicio: 2014, En Curso)', 'Japan Science And Technology Agency (Inicio: 1957, En Curso)', 'New Energy Industrial Technology Development Organisation (Inicio: 1980, En Curso)', 'World Premier International Research Center Initiative (Inicio: 2007, En Curso)', 'Adaptable And Seamless Technology Transfer Programme Through Target-Driven R&D (Inicio: 2009, En Curso)', 'Center Of Innovation Science And Technology Based Radical Innovation And Entrepreneurship Program (Inicio: 2013, Fin: 2023)', 'Legal Framework For Technology Licensing Organisations (Inicio: 1998, En Curso)', 'R&D Tax Credit (Inicio: 2003, En Curso)', 'Small Business Innovation Research (Inicio: 1999, En Curso)', 'Green Public Procurement (Inicio: 2000, En Curso)', 'Support For Carbon Neutrality In The Maritime And Port Fields (Inicio: 2021, En Curso)', 'Leading Initiative For Excellent Young Researchers (Inicio: 2016, En Curso)', 'E-Asia Joint Research Program (Inicio: 2012, En Curso)', 'International Collaborative Research Program For Tackling The Ntds Challenges In African Countries (Inicio: 2015, En Curso)', 'Core-To-Core Program (Inicio: 2012, En Curso)', 'Science And Technology Research Partnership For Sustainable Development (Inicio: 2008, En Curso)', 'Strategic International Collaborative Research Programme (Inicio: 2009, En Curso)', 'Bilateral Programs (Inicio: 1970, En Curso)', 'Bridge Fellowship Program (Inicio: 2009, En Curso)', 'Overseas Research Fellowships (Inicio: 1982, En Curso)', 'Super Science High School (Inicio: 2002, En Curso)', 'Programme For Leading Graduate Schools (Inicio: 2011, Fin: 2023)', 'Research Fellowships For Young Scientists (Inicio: 1985, En Curso)', 'Japan Research Career Information Network Portal（Jrec-In Portal） (Inicio: 2001, En Curso)', 'Entrepreneurship Education (Inicio: 2010, En Curso)', 'Guidelines For Employment And Training Of Postdoctoral Researchers (Inicio: 2020, En Curso)', 'The Survey On Postdoctoral Fellows Regarding Employment And Careers In Japan (Inicio: 2004, En Curso)', 'Green Growth Strategy Through Achieving Carbon Neutrality In 2050 (Inicio: 2020, En Curso)', 'Environment Innovation Strategy (Inicio: 2020, En Curso)', 'Tokyo “Beyond-Zero” Week (Inicio: 2020, En Curso)', 'Green Innovation Fund (Inicio: 2021, Fin: 2030)', 'The Global Zero Emission Research Center (Inicio: 2020, En Curso)', 'Research And Development Programme For Promoting Innovative Clean Energy Technologies Through International Collaboration (Inicio: 2020, Fin: 2025)', "A Financing Policy For Government'S Financial Institution To Support Startups (Inicio: 1975, En Curso)", 'Establishment Of University Fellowships Towards The Creation Of Science Technology Innovation (Inicio: 2021, Fin: 2027)', 'Support For Pioneering Research Initiated By The Next Generation (Inicio: 2021, En Curso)', 'Policy Measures For Ensuring Research Integrity In The Global And Open Research Environment (Inicio: 2021, En Curso)', 'Asia And Pacific Research Centre (Inicio: 2021, En Curso)', 'Fusion Oriented Research For Disruptive Science And Technology (Inicio: 2020, En Curso)', '6Th Science, Technology And Innovation Basic Plan (Inicio: 2021, Fin: 2025)', 'Jst-Mirai Program Low Carbon Society Mission Area (Inicio: 2017, En Curso)', 'Research Integrity Investigation And Analysis Report (Inicio: 2021, En Curso)', 'Cabinet Office Home Page On Research Integrity (Inicio: 2020, En Curso)', 'Japan´S Contribution To Iter (Inicio: Nan, En Curso)', 'R&D Purpose Plutonium Utilization Plan (Inicio: 2023, En Curso)', 'Japan-Indonesia Cooperation Agreement On Decarbonisation Technologies (Inicio: 2022, En Curso)', 'Japan-Australia Partnership On Decarbonisation Through Technology (Inicio: 2021, En Curso)', 'Japan-Canada Energy Policy Dialogue (Inicio: 2020, En Curso)', 'Research And Development Initiative For Scientific Innovation Of New Generation Batteries 3 (Inicio: 2021, En Curso)', 'Feasibility Study Program On Energy And New Environmental Technology/Feasibility Study Program On New Technology For Creating New Industries/ Uncharted Territory Challenge (Inicio: 2014, En Curso)', 'Research, Development And Demonstration Of Ccus Technology (Inicio: 2018, En Curso)', 'Jogmec Funding For Exploration And Technology Development (Inicio: 2022, En Curso)', 'Funding Of Midori Strategy (Inicio: 2021, En Curso)', 'Green Technologies Of Excellence (Inicio: 2023, En Curso)', 'Advanced Low Carbon Technology Development (Inicio: 2023, En Curso)', 'Green Transformation Technologies Inventory (Inicio: 2022, En Curso)', 'Doctoral Programme For World-Leading Innovative & Smart Education (Inicio: 2018, En Curso)', 'Adopting Sustainable Partnerships For Innovative Research Ecosystem (Inicio: 2023, En Curso)', 'Science And Technology Challenge Program For The Next Generation (Inicio: 2023, En Curso)', 'Initiative For Realizing Diversity In The Research Environment (Inicio: 2015, En Curso)', 'Project For The Promotion Of Strengthening Regional Core And Distinctive Research Universities (Inicio: 2023, En Curso)', 'Program On Open Innovation Platform For Industry-Academia Co-Creation (Inicio: 2020, En Curso)', 'Japans Strategy For Sustainable Food Systems (Inicio: 2021, En Curso)']
  const programasAlemania = ['National Bioeconomy Strategy (Inicio: 2020, En Curso)', 'German Research Ombudsman (Inicio: 1999, En Curso)', 'Core Dataset For Research (Inicio: 2013, En Curso)', 'Era-Net Cofunding Leap-Agri (Inicio: 2016, En Curso)', 'Contact Point For The Coordination Of National Programmes (Inicio: 2007, En Curso)', 'Research Institut Social Cohesion (Inicio: 2018, Fin: 2024)', 'Commission Of Experts For Research And Innovation (Inicio: 2008, En Curso)', "Federal Government'S Strategy For The Internationalization Of Education, Science And Research (Inicio: 2017, En Curso)", '“Innovation & Structural Change” Program Family (Inicio: 2017, En Curso)', 'Act To Align Copyright Law With The Current Demands Of The Knowledge-Based Society (Inicio: 2018, Fin: 2023)', "Learning Systems - Germany'S Platform For Artificial Intelligence (Inicio: 2017, Fin: 2025)", 'Gauss Centre For Supercomputing (Inicio: 2007, Fin: 2025)', 'Funding Initiatives On Artificial Intelligence And Machine Learning (Inicio: 2017, En Curso)', 'Dfg Research Grants (Inicio: 1920, En Curso)', 'Dfg Collaborative Research Centres (Inicio: 1968, En Curso)', 'Innovative Hochschule (Inicio: 2018, Fin: 2027)', 'Bilateral Science & Technology Cooperation Agreements (Inicio: 1996, En Curso)', 'Kopernikus Projects For Energy Transition (Inicio: 2016, Fin: 2026)', 'National Research Data Infrastructure (Inicio: 2019, En Curso)', 'Joint Federal Government-Länder Funding Programme For Junior Academics (Tenure-Track-Programme) (Inicio: 2017, En Curso)', 'Evaluation Of The Strategy Of The Federal Government On The European Research Area From 2014 (Inicio: 2020, En Curso)', 'Research At Universities Of Applied Sciences Programme (Inicio: 2019, Fin: 2023)', 'Connect Education-Research-Innovation Funding Initiative (Inicio: 2019, En Curso)', 'Research Infrastructures At Higher Education Institutions (Inicio: 2007, En Curso)', 'Funding Initiative International Future Labs For Artificial Intelligence (Inicio: 2019, Fin: 2024)', 'Artificial Intelligence Strategy (Inicio: 2018, Fin: 2025)', 'Framework Programme For Research For Civil Security (Inicio: 2018, Fin: 2023)', 'Centres Of Excellence For Ai Research (Inicio: 2018, En Curso)', 'More Opportunities For Start-Ups (Inicio: 2017, Fin: 2022)', 'Digital Hub Initiative (Inicio: 2017, En Curso)', 'Africa-Strategy Of The Federal Ministry Of Education And Research (Inicio: 2018, En Curso)', 'Bmbf Research Partner Groups For Alumni In Africa Funding Initiative (Inicio: 2019, En Curso)', 'Strengthening Resilience And Structural Development In African Cities And Conurbations (Inicio: 2019, En Curso)', 'German-African Innovation Incentive Award (Inicio: 2016, En Curso)', 'Development And Establishment Of Contract Research In African Innovation Systems (Inicio: 2018, En Curso)', 'Exploration Of The Universe And Matter Framework Programme (Inicio: 2017, Fin: 2027)', 'Understanding Society – Shaping The Future: Humanities And Social Sciences (Inicio: 2019, En Curso)', 'Call For Proposals Promoting S&T Cooperation With Morocco (Inicio: 2013, En Curso)', 'Ethical Guidelines For Self-Driving Cars (Inicio: 2016, En Curso)', 'Observatory For Artificial Intelligence In Work And Society (Inicio: 2019, En Curso)', 'City Of The Future (Inicio: 2016, En Curso)', 'Sme 4 Competence Centres (Inicio: 2015, En Curso)', 'Research Fab Microelectronics Germany (Inicio: 2017, En Curso)', 'Researching New Microelectronics (Inicio: 2019, Fin: 2023)', 'Humboldt Research Fellowship (Inicio: 1954, En Curso)', 'Health Research Framework Programme Of The Federal Government (Inicio: 2019, Fin: 2028)', 'Ethical, Legal And Social Aspects Of Modern Life Sciences Funding Priority (Inicio: 1997, En Curso)', 'Reinhard Koselleck Projects (Inicio: 2008, En Curso)', 'Cispa-Helmholtz Center For Information Security (Inicio: 2019, En Curso)', 'Startupsecure- Enabling Start-Ups In It Security (Inicio: 2017, Fin: 2024)', 'Funding Initiative For Citizen Science (Inicio: 2017, Fin: 2024)', 'Automated And Connected Driving (Inicio: 2015, En Curso)', 'Round Table On Internationalisation Of Education, Science And Research (Inicio: 2017, Fin: 2022)', 'R&D Tax Incentives (Inicio: 2020, Fin: 2025)', 'Clusters4Future (Inicio: 2019, Fin: 2031)', 'Regulatory Sandboxes – Enabling Innovation And Advancing Regulation (Inicio: 2018, En Curso)', 'Funding Priority: Digital Innovations For The Improvement Of Patient-Centred Care In Healthcare (Inicio: 2019, En Curso)', "Making Germany'S Space Sector Fit For The Future (Inicio: 2010, En Curso)", 'Platform Industry 4 (Inicio: 2015, En Curso)', 'Research Support For Covid-19 Treatment Options (Inicio: 2020, En Curso)', 'National Hydrogen Strategy (Inicio: 2020, En Curso)', 'Quantum Processors And Technologies For Quantum Computers (Inicio: 2020, En Curso)', 'National Decade Against Cancer (Inicio: 2019, Fin: 2029)', 'Excellence Strategy (Inicio: 2016, En Curso)', 'Fair Forward – Artificial Intelligence For All (Inicio: 2019, En Curso)', 'Lighthouses Of Ai For Environment, Climate, Nature And Resources (Inicio: 2019, En Curso)', 'Research On Ai Technologies In Agriculture, Health Nutrition, Food Chain And Rural Areas (Inicio: 2020, En Curso)', 'Reality Lab For Artificial Intelligence In Civil Protection (Inicio: 2019, En Curso)', 'Civic Coding - Innovation Network Ai For The Common Good (Inicio: 2021, En Curso)', 'Data Space Mobility Germany (Inicio: 2020, En Curso)', 'Real-World Test Field For Digital Mobility (Inicio: 2020, En Curso)', 'Gaia-X (Inicio: 2019, En Curso)', 'Automated Vehicles Bill In The Road Traffic Act (Inicio: 2017, En Curso)', 'National Research Center For Applied Cybersecurity (Inicio: 2019, En Curso)', 'Research Internships In Science And Engineering (Inicio: 2005, En Curso)', 'Civic Innovation Platform (Inicio: 2020, Fin: 2024)', 'High-Tech Start-Ups Fund (Inicio: 2005, En Curso)', 'Central Innovation Programme For Smes (Inicio: 2008, En Curso)', 'Clusterplattform Deutschland (Inicio: 2011, En Curso)', 'Clusters Of Excellence (Inicio: 2005, En Curso)', 'Internationalisation Of Leading-Edge Clusters, Future Projects, And Comparable Networks (Inicio: 2014, Fin: 2023)', 'Wipano Programme (Inicio: 2016, En Curso)', 'Research In Germany (Inicio: 2006, En Curso)', 'Kooperation International Portal (Inicio: 2002, En Curso)', 'German Academic Exchange Service (Inicio: 1925, En Curso)', 'Research Map (Forschungslandkarte) (Inicio: 2012, En Curso)', 'Strategy For The Internationalisation Of Higher Education Institutions In Germany (Inicio: 2013, En Curso)', 'Alexander Von Humboldt Professorship (Inicio: 2008, En Curso)', 'Bologna Mobility Package (Inicio: 2000, En Curso)', 'Euraxess Germany - National Coordination Point (Inicio: 2003, En Curso)', 'German Academic International Network (Inicio: 2003, En Curso)', 'Recognition Act (Inicio: 2012, En Curso)', 'Re-Integration Of German Scientists From Abroad (Inicio: 2009, En Curso)', 'Skilled Labour Strategy Of The German Federal Government (Inicio: 2018, En Curso)', 'School Student & Youth Competitions (Inicio: 2007, En Curso)', 'Little Scientists House (Inicio: 2008, En Curso)', 'European Charter For Researchers And The Code Of Conduct For The Recruitment Of Researchers (Inicio: 2005, En Curso)', 'Jugend Forscht Contest (Inicio: 1965, En Curso)', 'Science Years (Inicio: 2000, En Curso)', 'German Resource Efficiency Programme (Inicio: 2012, En Curso)', 'International Partnerships For Sustainable Innovations (Inicio: 2016, Fin: 2025)', 'U.S.-Germany Climate And Energy Partnership (Inicio: 2021, En Curso)', 'High-Tech Strategy 2025 (Inicio: 2018, Fin: 2023)', 'High-Tech Forum (Inicio: 2014, Fin: 2023)', 'Pact For Research And Innovation (Inicio: 2005, En Curso)', 'Academic Freedom Act (Inicio: 2012, En Curso)', 'Performance Agreements (Inicio: 1995, En Curso)', 'German Centres For Health Research (Inicio: 2009, En Curso)', 'Roadmap For Research Infrastructures (Inicio: 2011, En Curso)', 'Open Access Strategy (Inicio: 2016, En Curso)', 'Open-Access.Net Platform (Inicio: 2007, Fin: 2025)', 'Research Campus: Public Private Partnership To Foster Innovation (Inicio: 2011, Fin: 2031)', 'Validation Of The Technological And Societal Innovation Potential Of Scientific Research (Vip+) (Inicio: 2015, En Curso)', 'Exist - Business Start-Up Grant (Inicio: 2007, En Curso)', 'Networks Of Competence Germany - Go-Cluster Project (Inicio: 2012, En Curso)', 'Innovation Dialogue (Inicio: 2010, Fin: 2022)', 'Reform Of The Academic Fixed-Term Contract Act (Inicio: 2016, En Curso)', 'Research-Oriented Standards On Gender Equality (Inicio: 2008, Fin: 2022)', 'The Hydrogen Map (Inicio: 2022, En Curso)', 'National Report On Junior Scholars (Inicio: 2009, En Curso)', 'University Statistics Act (Inicio: 1971, En Curso)', 'International Future Labs For Green Hydrogen (Inicio: 2021, Fin: 2024)', 'Communication Campaign On The European Research Area (Era) (Inicio: 2020, Fin: 2022)', 'National Coordination Process For European Partnerships (Inicio: 2021, En Curso)', "Germany'S Commitment To The European Research Area (Era) (Inicio: 2020, Fin: 2024)", 'Participation In Eurostars 3 Programme / European Co-Funded Partnership On Innovative Smes (Inicio: 2021, En Curso)', 'Ralf-Dahrendorf Prize For The European Research Area (Era) (Inicio: 2018, Fin: 2024)', 'Clustervet - Promoting The Development And Implementation Of Training Clusters Internationally (Inicio: 2019, Fin: 2023)', 'Funding Initiative For The Development Of Models Of Data Intermediaries (Inicio: 2021, Fin: 2024)', 'Open Access Monitoring (Inicio: 2020, Fin: 2023)', 'Mint (Stem) Action Plan (Inicio: 2019, En Curso)', 'Research On The Internationalisation Of Vocational Education And Training (Inicio: 2017, Fin: 2023)', 'Mastervet: Master Study Programme In Management And Teaching For International Vocational Education And Training Personnel (Inicio: 2019, Fin: 2023)', 'Funding Junior Research Groups In Empirical Education Research (Inicio: 2021, Fin: 2026)', 'Funding Initiative For Research On Reducing Barriers To Education (Inicio: 2019, Fin: 2026)', 'Funds For Strengthening European Collaboration In Educational Research (Inicio: 2020, Fin: 2026)', 'Funding For Research On Educational Processes Under Conditions Of Digital Change (Inicio: 2018, Fin: 2027)', 'Framework Programme Empirical Educational Research (Inicio: 2017, En Curso)', 'Research On Digitalisation In The Education Sector (Inicio: 2017, Fin: 2027)', 'Innovet: Shaping The Future - Innovation For Excellent Vocational Education And Training (Inicio: 2019, Fin: 2024)', 'National University Medicine Network (Inicio: 2020, Fin: 2024)', 'Funding For Research Projects On Late Symptoms Of Covid-19 (Inicio: 2021, Fin: 2026)', 'Innovation Competition For Digital Platforms In Continuing Vocational Education And Training (Inicio: 2020, Fin: 2025)', 'National Skills Strategy (Inicio: 2019, En Curso)', 'Funding Line Women In Science, Research And Innovation: Making Achievements And Potentials Visible, Anchoring Visibility Structurally (Innovative Women In Focus) (Inicio: 2020, En Curso)', 'T-Ap: Recovery, Renewal And Resilience In A Post-Pandemic World (Inicio: 2021, Fin: 2023)', 'Research On Digital Higher Education (Inicio: 2017, En Curso)', 'Connected By Innovation Research Programme - Interactive Technologies For Health And Quality Of Life (Inicio: 2020, Fin: 2025)', 'Mobility Workspace 2025 (Inicio: 2020, Fin: 2026)', 'Company-Level Spaces For Learning And Experimentation With Ai (Inicio: 2020, Fin: 2023)', 'Support Network For Interdisciplinary Social Policy Research (Inicio: 2016, En Curso)', 'Research For Sustainability (Fona) Strategy (Inicio: 2020, Fin: 2025)', 'Mobility Future Laboratory 2050 (Inicio: 2020, Fin: 2024)', 'Flagship Projects On Hydrogen (Inicio: 2020, Fin: 2026)', 'Digital Greentech - Environmental Technology Meets Digitalization (Inicio: 2020, Fin: 2025)', 'Framework Programme: Microelectronics - Trustworthy And Sustainable For Germany And Europe (Inicio: 2021, Fin: 2024)', 'Regulations For Funding International Green Hydrogen Projects (Inicio: 2021, Fin: 2024)', 'Materials Digitalization Initiative (Inicio: 2021, Fin: 2026)', 'Biological Transformation In Technology (Inicio: 2020, En Curso)', 'Young Talent Competition: Nanomatfutur (Inicio: 2020, Fin: 2031)', 'Research Programme Future Of Value Creation - Research On Production, Services And Work (Inicio: 2021, Fin: 2027)', 'Qunet (Inicio: 2019, En Curso)', 'Accelerating Digital Transformation In Europe By Intelligent Network Automation (Inicio: 2021, Fin: 2024)', 'Federal Report On Research And Innovation (Inicio: 2006, En Curso)', 'Agency For Disruptive Innovation (Sprind) (Inicio: 2019, En Curso)', 'Western Balkans Research And Development (R&D) Cooperation Programme (Inicio: 2019, En Curso)', 'Research Initiative For The Conservation Of Biodiversity (Inicio: 2019, Fin: 2029)', 'Policy Paper On Participation (Inicio: 2016, Fin: 2021)', 'Foresight Process (Inicio: 2019, Fin: 2023)', '7Th Energy Research Programme (Inicio: 2018, En Curso)', 'Energy Efficiency Strategy 2045 (Inicio: 2019, En Curso)', 'Joint Crisis Task Force (Inicio: 2020, En Curso)', 'Esa Membership (Inicio: 1975, En Curso)', 'National Programme For Space And Innovation (Inicio: 2011, Fin: 2023)', 'Publication Database Of Security-Relevant Research And Related Material (Inicio: 2022, En Curso)', 'Economic Stimulus And Future Package To Mitigate The Covid-19 Crisis (Inicio: 2020, Fin: 2021)', 'Corona Support Package For Start-Ups And Smes (Inicio: 2020, En Curso)', 'Joint Committee On The Handling Of Security-Relevant Research (Inicio: 2015, En Curso)', 'Information On Selected Security-Relevant Research Topics And Case Studies (Inicio: 2018, En Curso)', 'Export Control And Academia Manual (Inicio: 2019, En Curso)', 'Export Control In Science & Research (Inicio: 2019, En Curso)', 'Research Integrity Portal (Inicio: 2019, En Curso)', 'Good Scientific Practice And Ombuds Services (Inicio: 2020, En Curso)', 'Guidelines For Avoiding Conflicts Of Interest (Inicio: 2010, En Curso)', 'Guidelines For Responsible Conduct (Inicio: 2021, En Curso)', 'Guidelines For Safeguarding Good Research Practice (Inicio: 2019, En Curso)', 'Guidelines For The Development Of International Collaborations Of The Max-Planck-Gesellschaft (Inicio: 2021, En Curso)', 'Key Questions For The Ethical Assessment Of Security-Relevant Research (Inicio: 2020, En Curso)', 'Kiwi Compass: No Red Lines - Academic Cooperation Within Complex Legal And Regulatory Environments (Inicio: 2020, En Curso)', 'Leibniz Code For Good Research Practice (Inicio: 2021, En Curso)', 'Ombudspersons At The Max Planck Institutes (Inicio: 2000, En Curso)', 'Proposal Preparation Instructions (Inicio: 2021, En Curso)', 'Recommendations For Handling Security-Relevant Research (Inicio: 2014, En Curso)', 'Risk Management In International Scientific Cooperation – Points To Consider (Inicio: 2021, En Curso)', 'Start Up Energy Transition (Inicio: 2017, En Curso)', 'Hygate (German-Australian Hydrogen Innovation And Technology Incubator) (Inicio: 2022, En Curso)', 'Reaserch On Structural Improvement And Development Of Public Health Service (Inicio: 2023, En Curso)', 'Era Fellowships - Green Hydrogen (Inicio: 2021, En Curso)', 'National Support To European Universities (Inicio: 2020, En Curso)', 'Postdoctoral Networking Tour In Artificial Intelligence (Inicio: 2020, En Curso)', 'Daad Fellowship Programme For German Computer Scientists (Inicio: 2019, En Curso)', 'Konrad Zuse Schools Of Excellence In Artificial Intelligence (Inicio: 2022, En Curso)', 'German Members Of The Coalition For Advancing Research Assessment (Inicio: 2022, En Curso)', 'Georg Forster Research Fellowship (Inicio: 1996, En Curso)', 'Philipp Schwartz Initiative (Inicio: 2016, En Curso)', 'Feodor Lynen Research Fellowship (Inicio: 1979, En Curso)', 'National Innovation Programme For Hydrogen And Fuel Cell Technology (Inicio: 2016, Fin: 2026)', 'Establishment Of An Active Open Access Culture In German Research And Scientific Practice (Inicio: 2023, Fin: 2026)', 'Industrial Collective Research Scheme (Inicio: 2023, Fin: 2026)', 'Future Strategy For Research And Innovation (Inicio: 2023, En Curso)', 'Forum #Zukunftsstrategie (Inicio: 2023, En Curso)', 'Society Of Ideas (Inicio: 2020, En Curso)', 'Innovation Platform Sustainable Sea And Ocean Solutions (Inicio: 2020, En Curso)', 'German-Ukrainian Cores Of Excellence (Inicio: 2020, En Curso)', 'Call For Project Proposals On Research And Development Cooperation Between Germany And Ukraine (Inicio: 2023, En Curso)', 'Data Strategy Of The German Federal Goverment (Inicio: 2021, En Curso)', 'National Citizen Science Platform “Bürger Schaffen Wissen (Inicio: 2013, En Curso)', 'Deal-Project (Inicio: 2017, En Curso)', 'Strategy For Participation In Research (Inicio: 2023, En Curso)', 'Research Initiative For Data Driven Mobility Innovation (Inicio: 2016, En Curso)', 'Funding Line “Promotion Of Structures For The Systematic Consideration Of Gender-Related Aspects In Research Questions (Gender Aspects In Focus) (Inicio: 2021, En Curso)', 'Re-Use And Management Of Research Data At Universities Of Applied Sciences (Inicio: 2021, Fin: 2025)', 'Programme For Women Professors Of The Federal Government And The Länder (Inicio: 2008, Fin: 2030)', 'Sme-Innovative: Photonics And Quantum Technologies (Inicio: 2018, Fin: 2025)', 'Funding The Project “Fair Data Spaces” (Inicio: 2021, Fin: 2024)', 'Funding Line Increasing The Proportion Of Women In The Stem Research And Innovation Process: Strengthening Self-Efficacy, Initiative And Creativity (Missionstem - Women Shape The Future) (Inicio: 2021, En Curso)', 'Funding Programme Dekarbonisierung In Der Industrie (Inicio: 2021, En Curso)', 'Ipcei Hydrogen (Inicio: 2020, En Curso)', 'Framework Funding Programme From Materials To Innovation” (Inicio: 2015, En Curso)', 'National Process For Eu Missions Initiated By Bmbf (Inicio: 2022, Fin: 2023)', 'Funding To Support Research And Development Of Urgently Needed Therapeutics Against Sars Cov-2 (Inicio: 2021, En Curso)', 'Start-Up Financing For Horizon Europe (Inicio: 2021, Fin: 2027)', 'Call For Proposals For Cooperation Projects On Green Hydrogen With Eureka Countries (Inicio: 2021, En Curso)', 'Bmbf Funding Initiative Creating Model Patient-Oriented Registries For Health Services Research (Inicio: 2016, En Curso)', 'Enabling Start-Ups - Business Start-Ups In Quantum Technologies And Photonics (Inicio: 2019, Fin: 2025)', 'Era Fellowships - Science Management Programme (Inicio: 2016, En Curso)', 'Contact Point For Cost Funding Programme (European Cooperation In Science And Technology) (Inicio: 1971, En Curso)', 'Funding Programme For The Integration Of The Central Eastern And South Eastern European Region In The European Research Area (Inicio: 2021, Fin: 2024)', 'German-Polish Cooperation On Technology Transfer In The Digital Economy (Inicio: 2021, En Curso)', 'Promotion Of Bilateral R&D Projects With Partners In Hungary, Czech Republic And Danube Riparian States (Croatia, Slovakia, Albania And Montenegro) In The Framework Of Eureka (Inicio: 2019, En Curso)', 'Funding Programme For Excellent Researchers In Poland And Central And Eastern Europe (Inicio: 2017, En Curso)', 'German-Greek Research And Innovation Programme (Inicio: 2016, En Curso)', 'Plastic Pirates - Go Europe! (Inicio: 2020, En Curso)', 'Research Programme Quantum Systems (Inicio: 2022, En Curso)', 'Flagship Projects Of Quantum Metrology In Order To Tackle Societal Challenges (Inicio: 2021, En Curso)', 'Framework Funding Programme For International Projects On Green Hydrogen - Call For Proposals Cooperation With Canada (Inicio: 2022, En Curso)', 'Funding Of International Projects In The Field Of Scientific Research And Innovation By The Members Of The Eu-Lac Interest Group (Inicio: 2022, En Curso)', 'Framework Funding Programme For Research And Innovation Cooperation With Latin America And The Caribbean (Inicio: 2022, En Curso)', 'Southern African Science Service Centre For Climate Change And Adaptive Land Management (Inicio: 2012, Fin: 2026)', 'West African Science Service Centre On Climate Change And Adapted Land Use (Inicio: 2012, Fin: 2026)', 'Atlas Of Green Hydrogen Generation Potentials In Africa (Inicio: 2020, Fin: 2023)', 'German-Namibian Hydrogen Partnership (Inicio: 2022, En Curso)', 'Application Network For Quantum Computing (Inicio: 2021, En Curso)', 'Quantum Computing Demonstration Setups (Inicio: 2021, En Curso)', 'Funding Of The Augmented Science Journalism-Programme Of The German Science Media Center (Inicio: 2020, Fin: 2023)', 'Initiation Of #Factorywisskomm (Inicio: 2020, En Curso)', 'Strengthening Data Competence Of Early-Career Researchers (Inicio: 2021, En Curso)', 'Data Competence Centers In Science (Inicio: 2022, Fin: 2026)', 'Action Plan Research Data (Inicio: 2021, En Curso)', "Funding Programme To Avoid Climate-Relevant Process Emissions In Industry ('Klimpro-Industrie') (Inicio: 2019, Fin: 2029)", 'Cdrterra (Inicio: 2020, En Curso)', 'The Carbon2Chem Project (Inicio: 2020, Fin: 2024)', 'Open Social Innovation Iniative (Inicio: 2023, En Curso)', 'Social Innovation Platform (Inicio: 2023, Fin: 2026)', 'Strategy For Social Innovations And Companies Oriented Towards The Common Good (Inicio: 2023, En Curso)', 'Bmbf 6G Research Initiative (Inicio: 2021, En Curso)', 'Scientific Framework Programme For It Security Digital. Secure. Sovereign. (Inicio: 2021, En Curso)', 'Research Network Anonymization For Secure Data Use (Inicio: 2021, Fin: 2027)', 'Competence Network Bibliometrics (Inicio: 2008, En Curso)', 'German Research Chairs At The African Institute For Mathematical Sciences (Inicio: 2012, En Curso)', 'Arab-German Young Academy Of Sciences And Humanities (Inicio: 2013, En Curso)', 'Bioeconomy International (Inicio: 2022, En Curso)', 'Co2-Win (Inicio: 2018, En Curso)', 'German Centre For Mental Health (Inicio: 2021, En Curso)', 'Translational Research For Personalised Medicine (Inicio: 2020, Fin: 2027)', 'Fraunhofer Clusters Of Excellence (Inicio: 2018, En Curso)', 'Lighthouse Projects – Reducing Time To Market (Inicio: 2017, En Curso)', 'Framework Funding Programme For Research And Innovation Cooperation With The Countries Of The Eastern Partnership And Central Asia (Inicio: 2023, En Curso)', 'Bmbf Flagship Initiative Hyperconnectivity: Opportunities Of Digital Interconnectivity (Inicio: 2022, En Curso)', 'Bmbf Agenda Cybersecurity Research (Inicio: 2022, En Curso)', 'National Action Plan For The European Research Area (Inicio: 2023, Fin: 2027)', 'Research-Oriented Equity And Diversity Standards (Inicio: 2022, En Curso)']
  
  useEffect(() => {
    const newParsedDataPlot = selectedPaises.map(pais => ({
      label: pais,
      data: dataSets[selectedVariable][pais],
      borderColor: colorPais[pais],
      borderWidth: 1,
      fill: false,
    }));
    setParsedDataPlot(newParsedDataPlot);
  }, [selectedPaises, selectedVariable]);

  useEffect(() => {
    const existingChart = Chart.getChart('myChart');
    if (existingChart) {
      existingChart.destroy();
    }

    if (parsedDataPlot.length > 0) {
      const ctx = chartRef.current.getContext('2d');
      const chart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: dataSets[selectedVariable].years,
          datasets: parsedDataPlot,
        },
        options: {
          scales: {
            x: {
              type: 'linear',
              position: 'bottom',
            },
            y: {
              beginAtZero: true,
            },
          },
        },
      });
      return () => {
        chart.destroy();
      };
    }
  }, [parsedDataPlot, selectedVariable]);

  return (
    <div className="LiveView">
      <img src={logo} alt="Logo" className="logo" />
      <h2>Bienvenido al sistema comparador de métricas de Ciencia, Tecnología e Innovación</h2>

      <div className="dropdown-container">
        <label htmlFor="pais-select">Selecciona países: </label>
        <select
          id="pais-select"
          multiple
          value={selectedPaises}
          onChange={(e) => {
            const options = e.target.options;
            const selected = [];
            for (let i = 0; i < options.length; i++) {
              if (options[i].selected) {
                selected.push(options[i].value);
              }
            }
            setSelectedPaises(selected);
          }}
        >
          <option value="Argentina">Argentina</option>
          <option value="Alemania">Alemania</option>
          <option value="Japón">Japón</option>
          <option value="México">México</option>
        </select>
      </div>

      <div className="dropdown-container">
        <label htmlFor="var-select">Selecciona la variable a visualizar: </label>
        <select
          id="var-select"
          value={selectedVariable}
          onChange={(e) => setSelectedVariable(e.target.value)}
        >
          {Object.keys(dataSets).map((key) => (
            <option key={key} value={key}>
              {dataSets[key].category}
            </option>
          ))}
        </select>
      </div>

      <div className="chart-container">
        <canvas ref={chartRef} id="myChart" width="400" height="200"></canvas>
      </div>
      
      <br></br>
      <div className="arg-container">
        <h4 onClick={ toggleVisibilityARG} style={{ cursor: 'pointer' }}>
          Programas de Ciencia, Tecnología e Innovación de Argentina (56 programas):
        </h4>
        <h5>Datos del International database on STI policies</h5>
        {isVisibleARG && (
          <ul>
            {programasArgentina.map((programa, index) => (
              <li key={index}>{programa}</li>
            ))}
          </ul>
        )}
      </div>

      <br></br>
      <div className="deu-container">
        <h4 onClick={ toggleVisibilityDeu} style={{ cursor: 'pointer' }}>
          Programas de Ciencia, Tecnología e Innovación de Alemania (282 programas):
        </h4>
        <h5>Datos del International database on STI policies</h5>
        {isVisibleDeu && (
          <ul>
            {programasAlemania.map((programa, index) => (
              <li key={index}>{programa}</li>
            ))}
          </ul>
        )}
      </div>

      <br></br>
      <div className="jpn-container">
        <h4 onClick={toggleVisibilityjpn} style={{ cursor: 'pointer' }}>
          Programas de Ciencia, Tecnología e Innovación de Japón (100 programas):
        </h4>
        <h5>Datos del International database on STI policies</h5>
        {isVisiblejpn && (
          <ul>
            {programasJapon.map((programa, index) => (
              <li key={index}>{programa}</li>
            ))}
          </ul>
        )}
      </div>
      
      <br></br>
      <div className="mex-container">
        <h4 onClick={toggleVisibilitymex} style={{ cursor: 'pointer' }}>
          Programas de Ciencia, Tecnología e Innovación de México (46 programas):
        </h4>
        <h5>Datos del International database on STI policies</h5>
        {isVisiblemex && (
          <ul>
            {programasMexico.map((programa, index) => (
              <li key={index}>{programa}</li>
            ))}
          </ul>
        )}
      </div>
      

    </div>
  );
}

export default App;
